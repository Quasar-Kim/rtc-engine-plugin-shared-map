<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RTCEngine firebase signaler demo</title>
</head>
<body>
  <h2>사용 방법</h2>
  <p>
    <ol>
      <li>두 기기에서 이 데모를 열어주세요.</li>
      <li>첫번째 기기에서 Peer A 섹션의 create connection 버튼을 누르고 devtool 콘솔을 확인해주세요. 방의 ID가 출력됩니다.</li>
      <li>두번째 기기에서 Peer B 섹션에 방 ID를 붙여넣고 connect를 눌러주세요.</li>
      <li>connected! 메시지가 뜨면 세번째 send message에서 WebRTC로 메시지를 전송할 수 있습니다. 받은 메시지는 콘솔에 출력됩니다.</li>
    </ol>

  </p>

  <h2>Peer A</h2>
  <p>
    <button id="createRoom">create connection</button>
  </p>

  <h2>Peer B</h2>
  <p>
    <input type="text" id="roomId">
    <button id="connect">connect</button>
  </p>

  <h2>shared map</h2>
  <input type="text" id="entryKey">
  <input type="text" id="entryVal">
  <button id="add">add</button>
  <ul id="entries">

  </ul>

  <script type="importmap">
    {
      "imports": {
        "rtc-engine": "https://ga.jspm.io/npm:rtc-engine@0.5.1/js/index.js",
        "rtc-engine-signaler-firebase": "https://ga.jspm.io/npm:rtc-engine-signaler-firebase@0.5.0/src/FirebaseSignaler.js"
      },
      "scopes": {
        "https://ga.jspm.io/": {
          "@firebase/app": "https://ga.jspm.io/npm:@firebase/app@0.7.11/dist/esm/index.esm2017.js",
          "@firebase/component": "https://ga.jspm.io/npm:@firebase/component@0.5.9/dist/esm/index.esm2017.js",
          "@firebase/firestore": "https://ga.jspm.io/npm:@firebase/firestore@3.4.1/dist/index.esm2017.js",
          "@firebase/logger": "https://ga.jspm.io/npm:@firebase/logger@0.3.2/dist/esm/index.esm2017.js",
          "@firebase/util": "https://ga.jspm.io/npm:@firebase/util@1.4.2/dist/index.esm2017.js",
          "@firebase/webchannel-wrapper": "https://ga.jspm.io/npm:@firebase/webchannel-wrapper@0.6.1/dist/index.esm2017.js",
          "firebase/app": "https://ga.jspm.io/npm:firebase@9.6.1/app/dist/index.esm.js",
          "firebase/firestore": "https://ga.jspm.io/npm:firebase@9.6.1/firestore/dist/index.esm.js"
        }
      }
    }
  </script>
  <script type="module" src="index.js"></script>
</body>
</html>